<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />

		<title>Redirecting...</title>

		<script>
			/*
			Single-page application routing fix for GitHub Pages
			Redirects all 404s to index.html for client-side routing.
			*/
			const path = window.location.pathname;
			const repoName = '/i/';

			/*
			If path doesn't include the repo name (which is fine),
			or if it's just the repo name (also fine),
			don't redirect. Otherwise, redirect to the root.
			*/
			if (path.indexOf(repoName) !== -1 && path !== repoName) {
				// Strip the repo name from the path.
				const pathWithoutRepo = path.split(repoName)[1];
				window.location.href = repoName + '#/' + pathWithoutRepo;
			} else {
				window.location.href = repoName;
			}
		</script>
	</head>
	<body>
		Redirecting...
	</body>
</html>
